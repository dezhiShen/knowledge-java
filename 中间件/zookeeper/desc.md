# Zookeeper

* Zookeeper 作为一个分布式的服务框架，主要用来解决分布式集群中应用系统的`一致性`问题，
它能提供基于类似于`文件系统的目录节点树`方式的数据存储，
但是 Zookeeper 并不是用来专门存储数据的，
它的作用主要是用来`维护和监控你存储的数据`的`状态变化`。
通过监控这些数据状态的变化，从而可以达到基于数据的集群管理。
## ZooKeeper 典型的应用场景

### 配置

#### 原理
* Zookeeper对子节点提供watch功能,当节点变动时,client会收到变动事件通知和变动后的内容
* 给所有的机器(客户端)都注册watch事件,监控特定的ZNode
* 底层通过调用ZNode相关的命令,如 `create`,`set`,`stat`,`get`等,对节点进行操作

### 服务发现

#### 原理
* 注册根目录为永久节点(用于定位),子目录为可用服务节点,存储服务的地址端口等信息,**下面的节点都是临时节点**,
服务器启动的时候会过来注册一个临时节点，服务器挂掉之后或主动关闭之后，临时节点会自动移除，这样就可以保证使用者获取的what服务都是可用的，而且可以动态的扩容缩容。
* Zookeeper对子节点提供watch功能,当节点变动时,client会收到变动事件通知和变动后的内容
* 给所有的机器(客户端)都注册watch事件,监控特定的ZNode
* 底层通过调用ZNode相关的命令,如 `create`,`set`,`stat`,`get`等,对节点进行操作
#### 结合Docker







